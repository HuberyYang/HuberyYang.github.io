I"¿<p><strong>ä¸€ã€æ¦‚å¿µ</strong></p>

<p>ä»€ä¹ˆæ˜¯ç»„åˆæ•°å‘¢ï¼Ÿ</p>

<blockquote>
  <p>ä»mä¸ªä¸åŒå…ƒç´ ä¸­å–å‡ºnï¼ˆnâ‰¤mï¼‰ä¸ªå…ƒç´ çš„æ‰€æœ‰ç»„åˆçš„ä¸ªæ•°ï¼Œå«åšä»mä¸ªä¸åŒå…ƒç´ ä¸­å–å‡ºnä¸ªå…ƒç´ çš„ç»„åˆæ•°ï¼ˆCombinationï¼‰ã€‚</p>
</blockquote>

<p>ç»„åˆæ•°åŸºæœ¬å…¬å¼ä¸ºï¼š
<img src="http://upload-images.jianshu.io/upload_images/2475558-a2c5ba01a847e519.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<p>çº¿æ€§å†™æ³•ä¸ºï¼šc(m,n) = m!/((m-n)!*n!)</p>

<p>ç°å®ç”Ÿæ´»ä¸­å½©ç¥¨çš„æ¦‚ç‡è®¡ç®—å°±æ¶‰åŠåˆ°ç»„åˆæ•°ï¼Œæ¯”å¦‚åŒè‰²çƒä¸­çº¢çƒé€‰æ‹©éœ€è¦ä» <code class="highlighter-rouge">01~33</code> çº¢çƒä¸­é€‰å‡º6ä¸ªï¼Œç»„åˆç»“æœä¸º c(33,6) = 1107568.</p>

<p><strong>äºŒã€è®¡ç®—æ–¹å¼</strong></p>

<blockquote>
  <p>ç”±äºè®¡ç®—æœºæ•°æ®å­˜å‚¨æ–¹å¼çš„é™åˆ¶ï¼Œé˜¶ä¹˜çš„è®¡ç®—ï¼Œå¦‚æœæ˜¯long intå‹åªèƒ½æ­£ç¡®è®¡ç®—åˆ°12å·¦å³çš„é˜¶ä¹˜ï¼Œå¦‚æœç”¨doubleå‹åªèƒ½æ­£ç¡®è®¡ç®—170å·¦å³çš„é˜¶ä¹˜ï¼Œå½“ç„¶è¿™äº›åªæ˜¯å¤§æ¦‚ï¼Œéœ€è¦ç»“åˆå®é™…å¹³å°è¿›è¡ŒéªŒè¯ã€‚</p>
</blockquote>

<p>æ‰€ä»¥é‡‡ç”¨é˜¶ä¹˜è®¡ç®—ç¨å¤§æ•°ç»„åˆæ•°æ˜¯ä¸åˆé€‚çš„ï¼Œè€Œä¸”æ•ˆç‡ä¸é«˜ï¼Œä½†æ˜¯å¯ä»¥å…ˆå¯¹å…¬å¼è¿›è¡Œè½¬æ¢ç„¶åå†è¿›è¡Œè®¡ç®—ï¼š
<strong>1.å¯¹å…¬å¼ä¸¤è¾¹å–è‡ªç„¶å¯¹æ•°</strong></p>

<p><img src="http://upload-images.jianshu.io/upload_images/2475558-a800e7d9bea07740.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<p><strong>2.æ ¹æ®å¯¹æ•°æ€§è´¨è¿›è¡Œè½¬æ¢</strong></p>

<p><img src="http://upload-images.jianshu.io/upload_images/2475558-576a246a59455baa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<ul>
  <li>
    <p>ç”±äº
<img src="http://upload-images.jianshu.io/upload_images/2475558-14dada8828552c4c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>
  </li>
  <li>
    <p>æ¶ˆé™¤ç›¸åŒé¡¹</p>
  </li>
</ul>

<p><img src="http://upload-images.jianshu.io/upload_images/2475558-cd4aabbfde8e8344.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<ul>
  <li>åˆ°è¿™å°±å·²ç»å°†é˜¶ä¹˜è½¬æ¢æˆå¯¹æ•°è¿åŠ ï¼Œæå¤§çš„é™ä½äº†è¿ç®—çš„å¤æ‚åº¦ã€‚å¦å¤–ï¼Œä¾æ®ç»„åˆæ•°æ€§è´¨ï¼š</li>
</ul>

<p><img src="http://upload-images.jianshu.io/upload_images/2475558-5cf3a8040bf13892.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<p>å½“ n &gt; m/2 æ—¶ï¼Œn ç›¸å¯¹äº m - n æ˜¯ä¸€ä¸ªè¾ƒå¤§çš„æ•°ï¼Œæ­¤æ—¶å¯ä»¥å– n = m - nè¿›è¡Œè®¡ç®—ã€‚</p>

<p><strong>3.è¿›è¡Œè®¡ç®—</strong>
ä»¥ç¬¬2æ­¥å¾—åˆ°çš„å…¬å¼è®¡ç®—å‡º</p>

<p><img src="http://upload-images.jianshu.io/upload_images/2475558-b30e33e52cf70ad7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<p>çš„å€¼ï¼Œç„¶åå†å–åå¯¹æ•°å°±å¯ä»¥å¾—åˆ°ç»„åˆæ•°ç»“æœäº†ã€‚</p>

<p>ç”¨è¿™ç§æ–¹æ³•è®¡ç®—ç»„åˆæ•°ï¼Œå¦‚æœåªè®¡ç®—ln(C(m,n))çš„è¯ï¼Œnå¯ä»¥å–åˆ°æ•´å‹æ•°æ®çš„æé™å€¼65535ï¼Œln(C(65535,32767)) = 45419.6</p>

<p>è€Œè®¡ç®—æ—¶é—´å¯ä»¥è¾¾åˆ°æ¯«ç§’çº§ã€‚å½“ç„¶ï¼Œå¦‚æœè¦å–åå¯¹æ•°å¾—åˆ°æœ€ç»ˆçš„ç»„åˆæ•°çš„è¯ï¼Œmçš„å–å€¼å°±ä¸èƒ½è¾¾åˆ°è¿™ä¹ˆå¤§äº†ï¼Œä½†æ˜¯è¿™ç§ç®—æ³•ä»ç„¶å¯ä»¥ä¿è¯må–åˆ°1000ä»¥ä¸Šã€‚</p>

<p><strong>4.è¯¥ç®—æ³•OCå®ç°ä»£ç </strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/**
 ç»„åˆæ•°è®¡ç®—

 @param totalNum C(m,n) ä¸­ m
 @param requireNum C(m,n) ä¸­ n
 @return ç»„åˆæ•°ç»“æœ
 */
+ (NSInteger)selectFromTotalNum:(NSInteger)totalNum requireNum:(NSInteger)requireNum{

    if (totalNum &lt; requireNum) {
        return 0;
    }

    if (requireNum &lt; totalNum / 2.0) {
        requireNum = totalNum - requireNum;
    }

    double s1 = 0;
    for (NSInteger i = requireNum + 1; i &lt;= totalNum; i ++) {

        s1 += log((double)i);

    }

    double s2 = 0;
    NSInteger ub = totalNum - requireNum;

    for (int i = 1; i &lt;= ub; i++) {

        s2 += log((double)i);
    }

    double result = exp(s1 - s2);

    //æ­¤å¤„éœ€è¦å…ˆè¿›è¡Œå››èˆäº”å…¥ï¼Œä¸èƒ½ç›´æ¥å¼ºè¡Œå–æ•´ï¼Œä¸ç„¶å¯èƒ½ä¼šæœ‰ 1 çš„è¯¯å·®å€¼
    double temp = round(result); //å››èˆäº”å…¥

    return (NSInteger)temp;
}
</code></pre></div></div>

<p><strong>ä¸‰ã€è·å–æ‰€æœ‰çš„å¯èƒ½ç»„åˆ</strong></p>

<blockquote>
  <p>æ‰€æœ‰çš„å¯èƒ½æ€§ç»„åˆå¯ä»¥é€šè¿‡æ’åˆ—ç»„åˆè·å¾—ï¼Œè¯¥æ–¹å¼è®¡ç®—è€—æ—¶é•¿ã€èµ„æºå ç”¨ä¸¥é‡ï¼Œåœ¨iPhone6ä¸Šæµ‹è¯•ä»… C(33,16) çš„è®¡ç®—å°±éœ€ 12så·¦å³çš„æ—¶é—´ï¼Œå†…å­˜å’Œcpuæ›´æ˜¯çˆ†æ»¡ï¼Œä½†æ˜¯å½“ m &lt;= 10 æ—¶ è¿˜æ˜¯å¯ä»¥æ¥å—çš„ï¼Œæ‰€ä»¥è¯¥æ–¹æ³•å…·æœ‰å¾ˆå¤§çš„å±€é™æ€§ã€‚</p>
</blockquote>

<ul>
  <li>
    <p>æ–¹æ³•åŸç†
ä»åŒ…å«mä¸ªå…ƒç´ çš„æ•°ç»„ä¸­ä¸è®¡é¡ºåºçš„é€‰å‡ºnä¸ªå…ƒç´ ï¼Œ
æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œä¸‹æ ‡è¡¨ç¤º1åˆ°mä¸ªæ•°ï¼Œæ•°ç»„å…ƒç´ çš„å€¼ä¸º1è¡¨ç¤ºå…¶ä¸‹æ ‡ä»£è¡¨çš„æ•°è¢«é€‰ä¸­ï¼Œä¸º0åˆ™æ²¡é€‰ä¸­ã€‚
é¦–å…ˆåˆå§‹åŒ–ï¼Œå°†æ•°ç»„å‰nä¸ªå…ƒç´ ç½®1ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªç»„åˆä¸ºå‰nä¸ªæ•°ã€‚
ç„¶åéå†æ•°ç»„å…ƒç´ å€¼çš„ 1ã€0 ç»„åˆï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ª 1ã€0 ç»„åˆåå°†å…¶å˜ä¸º 0ã€1 ç»„åˆï¼Œ
åŒæ—¶å°†å…¶å·¦è¾¹çš„æ‰€æœ‰â€œ1â€å…¨éƒ¨ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å·¦ç«¯ã€‚
å½“ç¬¬ä¸€ä¸ªâ€œ1â€ç§»åŠ¨åˆ°æ•°ç»„çš„m-nçš„ä½ç½®ï¼Œå³nä¸ªâ€œ1â€å…¨éƒ¨ç§»åŠ¨åˆ°æœ€å³ç«¯æ—¶ï¼Œå°±å¾—åˆ°äº†æœ€åä¸€ä¸ªç»„åˆã€‚</p>

    <p>ä¾‹å¦‚æ±‚5ä¸­é€‰3çš„ç»„åˆï¼š</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   1    1    1    0    0    // 1,2,3  
   1    1    0    1    0    // 1,2,4 
   1    0    1    1    0    // 1,3,4 
   0    1    1    1    0    // 2,3,4  
   1    1    0    0    1    // 1,2,5    
   1    0    1    0    1    // 1,3,5     
   0    1    1    0    1    // 2,3,5    
   1    0    0    1    1    // 1,4,5     
   0    1    0    1    1    // 2,4,5     
   0    0    1    1    1    // 3,4,5 
</code></pre></div>    </div>
  </li>
  <li>
    <p>å®ç°ä»£ç (oc)</p>
  </li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+ (NSArray *)selectFromSource:(NSArray *)source requireNum:(int)requireNum{

    NSMutableArray *results = [NSMutableArray array]; //æ’åˆ—ç»„åˆç»“æœ

    //@1 è¡¨ç¤ºé€‰ä¸­ï¼Œ@0 è¡¨ç¤ºæœªé€‰ä¸­
    NSMutableArray *arr = [NSMutableArray array];
    NSMutableArray *firstItem = [NSMutableArray array];
    for (int i = 0; i &lt; source.count; i ++) {

        if (i &lt; requireNum) {

            [arr addObject:@1];
            [firstItem addObject:source[i]];

        }else{
            [arr addObject:@0];
        }
    }

    //ç¬¬ä¸€ç§æ’åˆ—ç»„åˆç»“æœå°±æ˜¯é€‰æ‹©å‰ chooseNum ä¸ªå…ƒç´ 
    [results addObject:firstItem];

    while (1) {

        for (int index = 0; index &lt; arr.count; index ++)
        {
            //æ’åˆ—ç»„åˆå®Œæ¯•æ—¶é€€å‡ºå¾ªç¯
            NSArray *checkArr = [arr objectsAtIndexes:[NSIndexSet indexSetWithIndexesInRange:NSMakeRange(0, source.count - requireNum)]];

            if (![checkArr containsObject:@1])
            {
                return results;
            }

            if ((index &lt; source.count - 1) &amp;&amp; [arr[index] isEqual:@1] &amp;&amp; [arr[index + 1] isEqual:@0])
            {
                [arr exchangeObjectAtIndex:index withObjectAtIndex:index + 1];

                NSMutableArray *tempArr = [NSMutableArray arrayWithArray:[arr objectsAtIndexes:[NSIndexSet indexSetWithIndexesInRange:NSMakeRange(0, index)]]];

                //å°†indexå·¦ä¾§å…ƒç´ æ‹¿å‡ºæ¥ï¼Œå¹¶å°†å…¶ä¸­æ‰€æœ‰çš„ 1 ç§»è‡³å·¦ä¾§ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨ç³»ç»Ÿçš„æ’åºæ–¹æ³•
                [tempArr sortUsingComparator:^NSComparisonResult(NSNumber * obj1, NSNumber * obj2) {
                    return [obj1 intValue] &lt; [obj2 intValue];
                }];

                //æ›¿æ¢arrä¸­ index å·¦ä¾§å…ƒç´ 
                [arr replaceObjectsInRange:NSMakeRange(0, index) withObjectsFromArray:tempArr];

                //å°†å·²é€‰æ‹©çš„å…ƒç´ æŒ‘é€‰å‡ºæ¥ä¿å­˜
                NSMutableArray *selectedArr = [NSMutableArray array];
                for (int j = 0; j &lt; arr.count; j ++)
                {
                    if ([arr[j] isEqual:@1]) {
                        [selectedArr addObject:source[j]];
                    }
                }

                [results addObject:[selectedArr mutableCopy]];

                break;
            }

        }

    }
}
</code></pre></div></div>
:ET