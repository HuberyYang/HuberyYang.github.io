I"å<p>NSValueå¯¹è±¡æ˜¯ç”¨æ¥å­˜å‚¨ä¸€ä¸ªCæˆ–è€…Objectiveï¼Cæ•°æ®çš„ç®€å•å®¹å™¨ã€‚å®ƒå¯ä»¥ä¿å­˜ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œå¦‚intï¼Œfloatï¼Œcharï¼Œpointers,structures,  objectidsã€‚</p>

<p>1.åˆå§‹åŒ–NSValue å¹¶å­˜å…¥ç›¸åº”çš„å€¼ï¼Œç„¶åå†å–å‡º</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int a = 10;  
          
/* 
ç¬¬ä¸€ä¸ªå‚æ•°ï¼šéœ€è¦è½¬åŒ–çš„æ•°æ®çš„åœ°å€ 
ç¬¬äºŒä¸ªå‚æ•°ï¼šè¦è½¬åŒ–çš„æ•°æ®çš„ç±»å‹çš„å­—ç¬¦ä¸² @encode() 
*/  
NSValue *value1 = [[NSValue alloc] initWithBytes:&amp;a objCType:@encode(int)];  
NSLog(@"%@", value1);  
          
//å–å‡ºå­˜æ”¾çš„å€¼   
int a1;    
//å‚æ•°è¡¨ç¤ºè½¬åŒ–åçš„å˜é‡çš„åœ°å€  
[value1 getValue:&amp;a1];  
NSLog(@"a1 = %d", a1); 
</code></pre></div></div>
<p>2.å­˜å–ç»“æ„ä½“</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>typedef struct{  
    int x;  
    int y;  
}MyPoint; 

//å®šä¹‰ç»“æ„ä½“çš„å˜é‡  
MyPoint p = {1, 2};  
//æŠŠç»“æ„ä½“è½¬æ¢ä¸ºNSValueå¯¹è±¡  
NSValue *v2 = [[NSValue alloc] initWithBytes:&amp;p objCType:@encode(MyPoint)];  
NSLog(@"%@", v2);  
              
MyPoint p1;  
[v2 getValue:&amp;p1];  
NSLog(@"%d %d", p1.x, p1.y);  
</code></pre></div></div>
<p>3.NSRangeçš„å­˜å–</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NSRange range = {1, 4};  
NSValue *v3 = [NSValue valueWithRange:range];  
NSLog(@"%@", v3);  
          
NSRange range1;  
[v3 getValue:&amp;range1];  
NSLog(@"%ld %ld", range1.location, range1.length);

// åˆ¤æ–­NSValueå¯¹è±¡é‡Œé¢å­˜å‚¨çš„æ•°æ®ç±»å‹æ˜¯ä¸æ˜¯intå‹  
int ret = strcmp([value1 objCType], @encode(int));  
if (ret == 0) {  
    NSLog(@"YES");  
} else{  
    NSLog(@"No");  
}  
</code></pre></div></div>

:ET